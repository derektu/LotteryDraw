<!DOCTYPE html>
<html ng-app="AppResult">
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <!-- title -->
    <title>歲末抽抽樂 - 抽獎結果</title>

    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="bower_components/angular-route/angular-route.min.js"></script>
    <!-- ngAnimate -->
    <script src="bower_components/angular-animate/angular-animate.min.js"></script>
    <!-- for angular.bootstrap.ui -->
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="bower_components/lodash/dist/lodash.min.js"></script>
    <script src="bower_components/buzz/dist/buzz.min.js"></script>
    <script src="js/result.js"></script>

</head>
<body ng-controller="ResultCtrl">
    <div class="mg-canvas">
        <div class="page-header mg-header">
            <div class="mg-header-title">歲末抽抽樂 - 得獎名單</div>
            <div class="btn-group-lg" style="position:absolute; top: 20px; right: 20px">
                <div class="btn-group">
                    <button class="btn dropdown-toggle btn-primary" data-toggle="dropdown"><span class="glyphicon glyphicon-cog"></span></button>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu">
                        <li><a class="btn-lg" ng-click="refresh()">Refresh</a></li>
                        <li><a class="btn-lg" ng-click="print()">Print</a></li>
                        <li class="divider"></li>
                        <li><a class="btn-lg" ng-href="index.html" target="_self">回到抽獎頁面</a></li>
                        <!--
                        <li class="divider"></li>
                        底下可以放測試功能
                        -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- prizeData -->
        <script type="text/ng-template" id="result-board.html">
            <div>
                <div ng-repeat="prize in viewData" class="page-header">
                    <div class="result-row-title">{{prize.name}}: {{prize.desc}} (總共抽出:{{prize.winnerCount}}人)</div>

                    <div ng-repeat="winnerBatch in prize.winners" class="row">
                        <div ng-repeat="winner in winnerBatch" class="col-md-2 well well-lg" style="margin:4px">
                            <span class="mg-tile-emp-depart">{{winner.depart}}</span>
                            <span class="mg-tile-emp-name">{{winner.name}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </script>

        <div class="result-canvas">
            <result-board prize-list="prizeList"></result-board>
        </div>

    </div>
</body>
</html>